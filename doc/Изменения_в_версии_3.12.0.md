Навигация: [Главная страница](Main_Page.md)/[Система
ejudge](Система_ejudge.md)/[Разработка](Разработка.md)/[История
версий](История_версий.md)/[Изменения в версии
3.12.0](Изменения_в_версии_3.12.0.md)

Время выхода: 29 декабря 2023 г.

[Предыдущая версия](Изменения_в_версии_3.11.0.md) [Следующая
версия](Изменения_в_версии_3.13.0.md)

### Основные улучшения

- Добавлена поддержка языка [PostgresQL](lang:postgres.md).
- [Реализована
  возможность](serve.cfg:problem:enable_src_for_testing.md)
  передать исходный код посылки в проверяющую программу.
- Поддерживаются задачи с [динамической генерацией условий и
  тестов](Динамические_задачи.md).
- Поддерживается эвристическое определение ошибки [Memory-Limit
  Exceeded](Memory-Limit_Exceeded.md).
- Поддерживается [регистрация на
  турнир](Telegram_bot:_регистрация_на_турнир.md) и [получение
  пароля для входа](Telegram_bot:_получение_пароля.md) для уже
  зарегистрированных пользователей с помощью Telegram-бота.

Полный список закрытых ошибок и улучшений доступен
[здесь](https://github.com/blackav/ejudge/milestone/5?closed=1).

### [ej-compile](ej-compile.md)

Добавлен конфигурационный параметр
[`compiler_container_options`](serve.cfg:language:compiler_container_options.md),
который позволяет задать настройки контейнеризации для запуска
транслятора данного языка программирования. Обратите внимание, что
параметр
[`container_options`](serve.cfg:language:container_options.md)
применяется для запуска программ, написанных на данном языке
программирования.

Добавлен конфигурационный параметр языка программирования
[`preserve_line_numbers`](serve.cfg:language:preserve_line_numbers.md),
который включает или выключает режим сохранения номеров строк в
программах на скриптовых языках для конкретного языка программирования.

Добавлена поддержка для языка SQL в реализации
[Postgres](Lang:postgres.md) (см. [Issue
\#222](https://github.com/blackav/ejudge/issues/222)).

Для языка [Rust](Lang:rust.md) поддерживается сборка с помощью
cargo.

### [ej-contests](ej-contests.md)

Добавлен конфигурационный параметр задачи
[`plugin_entry_name`](serve.cfg:problem:plugin_entry_name.md).
Этот параметр позволяет задать имя точки входа в плагин задачи.

Добавлен конфигурационный параметр задачи
[`statement_ignore_ip`](serve.cfg:problem:statement_ignore_ip.md).
Этот параметр разрешает показ условия задачи без ограничения на
IP-адрес.

Добавлен конфигурационный параметр задачи
[`enable_src_for_testing`](serve.cfg:problem:enable_src_for_testing.md).
Этот параметр включает передачу исходного кода тестируемой посылки в
программу [ej-super-run](ej-super-run.md).

При просмотре исходного кода посылок, сданных с помощью интеграции с
системами контроля версий, добавлена ссылка на соответствующий коммит в
системе контроля версий (см. [Issue
\#263](https://github.com/blackav/ejudge/issues/263)).

Исправлена ошибка, которая приводила к потере пакетов, содержащих
результаты компиляции или тестирования, если в конфигурационном файле
соответствующего турнира содержалась ошибка, которая приводила к
невозможности загрузки турнира в память (см. [Issue
\#267](https://github.com/blackav/ejudge/issues/267)).

При экспорте архива с посылками добавлено экранирование "проблемных"
символов в названии задачи (см. [Issue
\#244](https://github.com/blackav/ejudge/issues/244)).

Добавлена возможность скачивания "скрытых" посылок (см. [Issue
\#246](https://github.com/blackav/ejudge/issues/246)).

Исправлена ошибка утечки файловых дескрипторов при просмотре очереди
посылок (см. [Issue
\#266](https://github.com/blackav/ejudge/issues/266)).

Исправлена ошибка двойного освобождения памяти (см. [Issue
\#261](https://github.com/blackav/ejudge/issues/261)).

Для посылок в формате Microsoft Office 2007 и выше правильно
определяется mime type (см. [Issue
\#257](https://github.com/blackav/ejudge/issues/257)).

В лог-файл выводится больше информации о действиях привилегированных
пользователей (см. [Issue
\#255](https://github.com/blackav/ejudge/issues/255)).

Исправлена ошибка неправильного значения поля `user_score` в
XML-протоколе тестирования. (см. [Issue
\#237](https://github.com/blackav/ejudge/issues/237)).

Реализована поддержка динамической генерации условия задачи (см. [Issue
\#231](https://github.com/blackav/ejudge/issues/231)).

### [ej-jobs](ej-jobs.md)

Поддерживается регистрация в ejudge и на турнир с помощью Telegram. Для
этого добавлен атрибут
[`enable_telegram_registration`](ejudge.xml:config:enable_telegram_registration.md)
в конфигурационный файл [`ejudge.xml`](ejudge.xml.md) и атрибут
[`enable_telegram_registration`](contest.xml:enable_telegram_registration.md)
в конфигурационный файл турнира [contest.xml](contest.xml.md).

При аутентификации OAUTH или Telegram корректно поддерживаются свойства
`user_contest` (см. [Issue
\#260](https://github.com/blackav/ejudge/issues/260)).

Бот Telegram поддерживает выдачу паролей с помощью команды `password`
(см. [Issue \#238](https://github.com/blackav/ejudge/issues/238)).

### [ej-polygon](ej-polygon.md)

Улучшения импорта из системы polygon (см. [Issue
\#227](https://github.com/blackav/ejudge/issues/227)):

- при импорте создается statement.xml, который включает условие задачи в
  HTML-формате с помощью iframe
- по умолчанию используется polygon API
- по умолчанию у импортированных задач игнорируется главное решение
- поддерживается импорт задач с правами доступа OWNER

### [ej-suid-container](ej-suid-container.md)

Улучшена поддержка языка java и других jvm-языков. Им для работы нужно
актуальное содержимое каталога `/etc/java`, поэтому этот каталог
монтируется с хост-системы (см. [Issue
\#276](https://github.com/blackav/ejudge/issues/276)).

Поддерживается эвристическое определение ошибок [Memory-Limit
Exceeded](Memory-Limit_Exceeded.md) и [Security
Violation](Security_Violation.md).

Улучшена изоляция запускаемых решений.

### [ej-super-run](ej-super-run.md)

Добавлен конфигурационный параметр задачи
[`disable_vm_size_limit`](serve.cfg:problem:disable_vm_size_limit.md).
Этот параметр снимает ограничение на размер виртуального адресного
пространства.

Добавлен конфигурационный параметр задачи
[`ignore_term_signal`](serve.cfg:problem:ignore_term_signal.md).
Этот параметр включает игнорирование аварийного завершения тестируемой
программы по сигналу.

Добавлен конфигурационный параметр языка программирования
[`enable_ejudge_env`](serve.cfg:language:enable_ejudge_env.md).
Этот параметр включает передачу различных параметров тестирования в
тестируемую программу с помощью [переменных
окружения](Переменные_окружения_для_запускаемых_программ.md).

Добавлен конфигурационный параметр языка программирования
[`run_env_file`](serve.cfg:language:run_env_file.md). Этот
параметр позволяет задать имя файла с переменными окружения, которые
будут переданы в тестируемую программу.

Добавлен конфигурационный параметр языка программирования
[`clean_up_cmd`](serve.cfg:language:clean_up_cmd.md). Этот
параметр позволяет задать имя программы, которая будет выполняться после
тестирования программы на данном языке, и задача которой корректно
очистить окружение.

Добавлен конфигурационный параметр языка программирования
[`clean_up_env_file`](serve.cfg:language:clean_up_env_file.md).
Этот параметр позволяет задать имя файла с переменными окружения,
которые будут переданы в программу очистки окружения.

Добавлен конфигурационный параметр задачи
[`test_generator_cmd`](serve.cfg:problem:test_generator_cmd.md).
Он позволяет задать [программу для генерации тестовых
данных](Программы_генерации_тестов.md) "на лету".

Добавлен конфигурационный параметр задачи
[`test_generator_env`](serve.cfg:problem:test_generator_env.md).
Он позволяет задать переменные окружения для [программы генерации
тестовых данных](Программы_генерации_тестов.md) "на лету".

Добавлено эвристическое определение ошибки [Memory-Limit
Exceeded](Memory-Limit_Exceeded.md) при выполнения программ в
контейнере (см. [Issue
\#221](https://github.com/blackav/ejudge/issues/221)).

Исправлена ошибка, заключающаяся в том, что слишком большой файл
стандартного потока вывода или стандартного потока ошибок не добавлялся
в протокол тестирования. Теперь файл обрезается до максимально
допустимого размера (см. [Issue
\#240](https://github.com/blackav/ejudge/issues/240)).

В запускаемые программы передаётся переменная окружения
`EJUDGE_SUPER_RUN_SERIAL`.

### [ej-super-server](ej-super-server.md)

При операции "Check contests settings" поддерживается конфигурационный
параметр задачи
[`problem_dir`](serve.cfg:problem:problem_dir.md). Таким
образом, эта операция работает, когда задачи не находятся в каталоге
турнира (см. [Issue
\#265](https://github.com/blackav/ejudge/issues/265)).

### [.inf-файлы](.inf-файлы.md)

Добавлен параметр `ignore_term_signal` для игнорирования аварийного
завершения тестируемой программы по сигналу на данном тесте.

### [cmp_binary](cmp_binary.md)

Новая стандартная проверяющая программа, которая сравнивает заданный
файл в рабочем каталоге тестируемой программы после её завершения и
эталонный файл с ответом.
