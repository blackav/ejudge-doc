Навигация: [Главная страница](Main_Page.md)/[Система
ejudge](Система_ejudge.md)/[Разработка](Разработка.md)/[История
версий](История_версий.md)/[Изменения в версии
2.3.7](Изменения_в_версии_2.3.7.md)

Исправления ошибок и мелкие усовершенствования.

При создании файлов и каталогов права по умолчанию позволяют запись для
группы `(g+w)`. При использовании соответствующего значения
`umask (002)` права на файлы и каталоги будут позволять запись для
группы. Обратите внимание, что значение `umask` по умолчанию (обычно
022) не позволяет запись для группы. Чтобы это исправить, выполните
перед запуском `ejudge` команду `umask 002`

Кодировка по умолчанию установлена в `UTF-8`. Исправлен ряд ошибок
компиляции, возникавших, когда при запуске `configure` не была указана
опция `--enable-charset`.

Исправлен ряд ошибок, возникавших, когда при запуске `configure` не была
указана опция `--enable-local-dir`.

Поддерживается компилятор `gfortran`, который заменяет `g77` в новых
версиях `GCC`. Добавлена опция `--with-gfortran` скрипта `configure`.

В скриптах компиляции `gcc` и `g++` перед вызовом компилятора
сбрасывается текущее языковое окружение. Это значит, что ошибки
компиляции будут выдаваться на английском языке.

### contest.xml

Добавлен атрибут `"disable_password_change"` элемента <contest>. Если
этот атрибут установлен, участнику запрещено менять свой пароль.

Добавлен элемент <keywords>. Элемент может использоваться для указания
произвольных ключевых слов, характеризующих турнир.

Добавлено полномочие `RESTART`. Пользователь с таким полномочием может
перезапускать программы `userlist-server`, `super-serve`, `compile`,
`new-server` из командной строки с помощью соответствующих програм
`*-control`.

### new-server

В базе данных сообщений `(clarlog)` сохраняется кодировка сообщений. Это
позволяет корректно отображать сообщения при переносе базы на систему с
другой кодировкой `ejudge`.

В файле `serve.cfg` поддерживается специальный комментарий

\# -\*- coding: CHARSET -\*- который позволяет задавать кодировку файла
`serve.cfg`. Этот комментарий должен быть первой строкой в файле.

Улучшен диалог отправки решений на проверку в интерфейсе
привилегированного пользователя `(new-master/new-judge)`.

Добавлена конфигурационная переменная `` `use_ac_not_ok' `` раздела
описания задачи. Если эта конфигурационная переменная установлена, то
вместо статуса `OK` для решений, проходящих все тесты, используется
статус `AC (accepted for testing)`.

В xml-файле протокола турнира `(XML runlog)` вместо числовых
идентификаторов пользователей, задач и языков используются
символические, то есть `login` для пользователей, `short_name` для задач
и языков.

### new-server-cmd

Добавлена команда `"schedule"` для указания времени старта турнира.

### serve-control

При записи файла `serve.cfg` в файл записывается его кодировка (см.
выше).

Поддерживается редактирование атрибута турнира
`"disable_password_change"` и элемента <keywords>.

При записи файла `contest.xml` корректно устанавливается его кодировка.

При записи конфигурационного файла корректно поддерживается язык C#.

### ejudge-control

Для команды `stop` поддерживается опция `-s (slave mode)`. Если эта
опция указана, то сигналы завершения будут разосланы только тем
программам, которые запускались с опцией `-s`, то есть `compile` и
`super-serve`.
