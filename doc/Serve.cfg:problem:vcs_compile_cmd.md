Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Использование](Использование "wikilink")/[Конфигурационные
файлы](Конфигурационные_файлы "wikilink")/[serve.cfg](serve.cfg "wikilink")/[Конфигурационные
параметры
задач](serve.cfg:problem "wikilink")/[`vcs_compile_cmd`](serve.cfg:problem:vcs_compile_cmd "wikilink")

Данная конфигурационная переменная позволяет задать команду, которая
будет выполняться при компиляции посылки в режиме [интеграции с
системами контроля версий](Интеграция_с_github/gitlab "wikilink").

Команде компиляции передаются следующие аргументы командной строки:

- язык программирования текущей посылки
- рабочий каталог компиляции
- имя выходного файла. Выходной файл должен быть создан в рабочем

каталоге компиляции.

Кроме того, команде компиляции передаются все переменные окружения,
которые были заданы в конфигурации задачи с помощью
[`lang_compiler_env`](serve.cfg:problem:lang_compiler_env "wikilink").

Команда компиляции работает в каталоге `source` архива посылки. Команда
компиляции работает с теми же правами, что и стандартные скрипты
компиляции языков программирования. Если настроена [изоляция
недоверенных процессов в
контейнерах](изоляция_недоверенных_процессов_в_контейнерах "wikilink"),
то и команда компиляции будет контейнеризирована.

Команда компиляции должна сформировать выходной файл, имя которого
задано в аргументе командной строки. При успехе скрипт сборки должен
завершиться с кодом 0.

Рекомендуется, чтобы команда компиляции была скопирована в
склонированный каталог с помощью [команды
постобработки](serve.cfg:problem:post_pull_cmd "wikilink"). Если команда
компиляции называется `build-cmd`, то значение переменной
`vcs_compile_cmd` надо установить в `./build-cmd`.

Если переменная `vcs_compile_cmd` не установлена, по умолчанию команда
компиляции запускается командой `./build`. Можно назвать команду
компиляции `build` и не устанавливать переменную `vcs_compile_cmd` явно.

Значение конфигурационной переменной наследуется из абстрактных задач.

Пример.

`[problem]`  
`# ...`  
`enable_vcs`  
`vcs_compile_cmd = "build-cmd"`

Поддерживается начиная с версии
[3.10.0](изменения_в_версии_3.10.0 "wikilink").
