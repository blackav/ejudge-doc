Навигация: [Главная страница](../main_Page.md)/[Система
ejudge](../система_ejudge.md)/[Проверяющие
программы](../проверяющие_программы.md)/[libchecker](../libchecker.md)/[Функции](../функции.md)/[Перекодирование
текстовых
данных](Перекодирование_текстовых_данных.md)/[checker_utf8_to_ucs4_buf](checker_utf8_to_ucs4_buf.md)

Функция позволяет перекодировать буфер заданного размера из кодировки
UTF-8 в кодировку UCS-4.

`int checker_utf8_to_ucs4_buf(int *out, const char *in, size_t in_size);`

Параметр `in` — адрес начала буфера, а параметр `in_size` — его размер.
Параметр `out` — адрес начала буфера результата. Параметры `in` и `out`
не могут быть равны `NULL`. Буфер, заданный параметром `out` должен
иметь размер, достаточный для размещения перекодированной строки. Для
этого достаточно, чтобы буфер `out` имел размер `in_size` элементов.

Функция возвращает количество символов в кодировке UCS-4, полученных в
результате перекодирования. Если во входном буфере находится
недопустимая UTF-8 последовательность, функция возвращает значение -1.
