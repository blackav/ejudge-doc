Навигация: [Главная страница](../main_Page.md)/[Система
ejudge](../система_ejudge.md)/[Проверяющие
программы](../проверяющие_программы.md)/[libchecker](../libchecker.md)/[Функции](../функции.md)/[Чтение
целых значений](Чтение_целых_значений.md)/[Чтение
целого значения из заданного
файла](checker_read_TYPE_ex.md)

Данные функции позволяют считывать целое значение из файла.

`int checker_read_int_ex(FILE *f, `[`checker_error_func_t`](checker_error_func_t.md)` error_func, const char *name,`  
`                        int eof_error_flag, int *p_val);`  
`int checker_read_unsigned_int_ex(FILE *f, `[`checker_error_func_t`](checker_error_func_t.md)` error_func, const char *name,`  
`                        int eof_error_flag, unsigned int *p_val);`  
`int checker_read_long_long_ex(FILE *f, `[`checker_error_func_t`](checker_error_func_t.md)` error_func, const char *name,`  
`                        int eof_error_flag, long long *p_val);`  
`int checker_read_unsigned_long_long_ex(FILE *f, `[`checker_error_func_t`](checker_error_func_t.md)` error_func, const char *name,`  
`                        int eof_error_flag, unsigned long long *p_val);`

Число считывается из файла `f`. Параметр `name` — это строка или текст,
описывающий считываемое значение. Он используется в случае ошибки при
выводе диагностических сообщений. Параметр `eof_error_flag` задает
поведение функции в случае, если достигнут конец файла. Если параметр
имеет ненулевое значение, то в случае невозможности чтения числа из-за
достижения конца файла вызывается функция `error_func` для вывода
сообщения об ошибке и завершения работы программы. Если параметр
`eof_error_flag` равен 0, то в случае достижения конца файла
возвращается значение -1. Параметр `p_val` — это адрес переменной, в
которую должно быть помещено считанное значение.

Каждое число в файле должно быть отдельным [элементом
ввода](../элемент_ввода.md), то есть при чтении числа сначала из
файла считывается элемент ввода, после чего он конвертируется в число.
Число должно быть записано в десятичном виде с необязательным знаком `+`
или `-` перед ним. При чтении беззнаковых чисел знак `-` не допускается.

Если при чтении элемента ввода возникла ошибка ввода, программа
завершается, и диагностируется [внутренняя ошибка
проверки](../внутренняя_ошибка_проверки.md). Для этого используется
функция [`fatal_CF`](fatal_CF.md).

Функция предназначена для работы с [текстовыми
файлами](../текстовый_файл.md). Если при чтении элемента ввода
встречается символ, который недопустим в текстовом файле, вызывается
функция `error_func` для выдачи сообщения об ошибке и завершения работы.

Если нарушен формат записи числа или число выходит за диапазон
представимых значений заданного типа, вызывается функция `error_func`
для выдачи сообщения об ошибке и завершения работы.

Функция возвращает значение 1 при успешном чтении и -1 при достижении
конца файла, если параметр `eof_error_flag` равен 0. В случае
возникновения ошибки, управление в вызывающую функцию не возвращается.
