Навигация: [Главная страница](../main_Page.md)/[Система
ejudge](../система_ejudge.md)/[Проверяющие
программы](../проверяющие_программы.md)/[libchecker](../libchecker.md)/[Функции](../функции.md)/[Перекодирование
текстовых
данных](Перекодирование_текстовых_данных.md)/[Перекодирование
строки из кодировки
UCS-4](checker_ucs4_to_CHARSET_str.md)

Данные функции позволяют перекодировать строку в кодировке UCS-4 в одну
из поддерживаемых однобайтных кириллических кодировок.

`char *checker_ucs4_to_koi8r_str(char *out, size_t size, const int *in);`

Параметр `in` — это адрес исходной строки в кодировке UCS-4. Строка
должна завершаться символом с кодом 0. Адрес `in` не может быть равен
`NULL`. Параметр `out` — адрес буфера, в который помещается результат, а
`size` — его размер. Параметр `out` не должен быть равен `NULL`, а
параметр `size` должен быть больше нуля.

Перекодируется не более чем `size - 1` символ из входной строки. В конец
перекодированной части строки записывается нулевой байт. Если какой-либо
символ в строке `in` не имеет соответствия в выходной кодировке, он
заменяется на символ '?' (знак вопроса). Поскольку один символ исходной
строки `in` переводится в один байт в буфере `out`, для перекодирования
всей строки буфер `out` должен иметь размер, равный длине входной строки
плюс один байт для хранения символа-терминатора.

Функции возвращают адрес начала выходного буфера, то есть `out`.
