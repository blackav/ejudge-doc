Навигация: [Главная страница](../main_Page.md)/[Система ejudge](../система_ejudge.md)/[Разработка](../разработка.md)/[История версий](../история_версий.md)/[Изменения в версии 2.3.25](изменения_в_версии_2.3.25.md)

Исправлены проблемы компиляции на платформе Win32.

Исправлены проблемы компиляции и запуска с установленным режимом
`--disable-rpath`.

### [ejudge-configure-compilers](../tool/ejudge-configure-compilers.md)

Улучшен алгоритм назначения Id языков программирования. Самый высокий
приоритет имеет сохранение Id языков программирования, ранее уже
назначенных и сохраненных в конфигурационном файле программы
[ej-compile](../tool/ej-compile.md).

Файл lang_ids.cfg ищется и в конфигурационных каталогах
[ej-compile](../tool/ej-compile.md), и в инсталляционных каталогах
ejudge.

Если для языка программирования отсутствует Id языка, хранящийся в файле
lang_ids.cfg, такому языку программирования назначается Id, начинающийся
от 90.

Если у двух языков программирования Id совпадают, одному из языков
назначается Id, растущий от 89 в сторону уменьшения.

Добавлена поддержка для языков clang, clang++, gccgo, make-vg (сборка
программы с помощью make с последующим запуском под valgrind).

### [ej-contests](../tool/ej-contests.md)

Добавлены новые статусы посылки:

Статус [Wall Time Limit Exceeded](../verdict/wall_Time_Limit_Exceeded.md)
устанавливается, когда при запуске тестируемой программы было превышено
астрономическое время работы программы. В предыдущих версиях ejudge в
этом случае использовался статус [Time-Limit Exceeded](../verdict/time_limit_exceeded.md).

Статус [Pending Review](../verdict/pending_review.md) устанавливается для
задач, у которых установлен режим проверки
[`use_ac_not_ok`](../serve.cfg/problem/use_ac_not_ok.md), то есть в
режиме, когда окончательное решение по посылке принимается судьей или
администратором турнира. В предыдущих версиях ejudge в этом случае
использовался статус [Accepted for Testing](../verdict/accepted_for_testing.md). Статус [Accepted for Testing](../verdict/accepted_for_testing.md) теперь используется только для
турниров OLYMPIAD.

Статус [Rejected](../verdict/rejected.md) может устанавливаться
администратором или судьей для посылок, имевших статус [Pending Review](../verdict/pending_review.md), в случае не соблюдения каких либо
требований, проверяемых вручную. Ранее в этом случае использовался
статус [Style Violation](../verdict/style_Violation.md), который теперь
используется только в случае, когда посылка отвергается автоматической
программой проверки стиля.

При хранении посылки в базе данных или в бинарном файле в структуру
описателя посылки добавлено поле passed_mode. Это поле устанавливается в
1 для всех сохраняемых в базе посылок. Таким образом, значение поля
равно 0 для посылок, сохраненных в базе предыдущими версиями ejudge.

Если поле 'passed_mode' установлено в 1, то в поле 'test' всегда
хранится количество тестов, успешно пройденных программой. Если поле
'passed_mode' установлено в 0, то значение поля 'test' интерпретируется
в режиме совместимости с предыдущими версиями ejudge, то есть 'test'
хранит номер первого непройденного теста в режиме [ACM](../ACM.md)
или [MOSCOW](../MOSCOW.md) и количество пройденных тестов в режиме
[KIROV](../KIROV.md).

В судейском протоколе тестирования выводится информация о ЦП, на котором
выполнялось тестирование.

Исправлена ошибка, возникавшая при попытке удаления виртуальных записей
(VIRTUAL_START, VIRTUAL_STOP).

При перетестировании посылок (по разным критериям), перетестируемые
посылки получают приоритет 10 (а не 0, как было в предыдущей версии).

Добавлена глобальная конфигурационная переменная
[`printout_uses_login`](../serve.cfg/global/printout_uses_login.md).
Если она установлена в 1, то на распечатках решений участников выводится
логин участника, а не его имя (название команды).

Убрано ограничение в 256 символов на длину значения конфигурационной
переменной
[`test_score_list`](../serve.cfg/problem/test_score_list.md)
раздела описания задачи.

Добавлена конфигурационная переменная
[`super_run_dir`](../serve.cfg/problem/super_run_dir.md) раздела
описания задачи, с помощью которой можно задавать тестирующий компьютер,
на котором будут тестироваться решения по данной задаче.

Исправлена ошибка при печати решений участников, в именах которых есть
символ '/'.

Добавлена конфигурационная переменная
[`enable_process_group`](../serve.cfg/problem/enable_process_group.md)
раздела описания задачи. Если данная переменная установлена, то при
запуске тестируемой программы на выполнение она помещается в отдельную
группу процессов, и при снятии тестируемой программы с выполнения сигнал
завершения посылается всей группе процессов. Это позволяет завершать все
процессы, порожденные тестируемой программой, если она не изменила свою
группу процессов.

Добавлена конфигурационная переменная
[`start_env`](../serve.cfg/problem/start_env.md), с помощью которой
можно задавать переменные окружения для запускаемой на тестирование
программы.

Исправлена ошибка, возникающая при попытке редактирования сообщений,
если сообщения хранятся в MySQL.

### [ej-polygon](../tool/ej-polygon.md)

Поддерживается приоритет языков (ru,en или en,ru) задаваемый в
конфигурационном параметре `language_priority`.

Улучшено отслеживание состояния перегенерации пакета polygon.

### [ej-super-run](../tool/ej-super-run.md)

Добавлена опция '-p' для установки альтернативного имени каталога
программы.

Добавлена опция '-a' для задания альтернативного размещения файла
журнала.

Во всех конфигурациях тестирования переменная окружения LC_CTYPE
устанавливается в значение "C".

В режиме предварительного тестирования турниров
[OLYMPIAD](../OLYMPIAD.md) при параметре
[`tests_to_accept`](../serve.cfg/problem/tests_to_accept.md)
установленным в 0, ситуация отсутствия тестов считается нормальной.

### [ej-super-server](../tool/ej-super-server.md)

Исправления ошибок работы с .tgz архивами при генерации Makefile в
каталоге задачи.

В Makefile корректно передаются переменные окружения для валидатора.

В Makefile передаются имена входного и выходного файла для решения.

### [ej-users](../tool/ej-users.md)

Упрощены ограничения на восстановление пароля.

### [Стандартные проверяющие программы](../стандартные_проверяющие_программы.md)

Все стандартные проверяющие программы, работающие с текстовыми файлами,
поддерживают переменную окружения `EJ_REQUIRE_NL`. Если данная
переменная установлена, то в конце проверяемого вывода требуется наличие
символа \n. Если символ \n отсутствует, проверяющие программы выдают
ошибку [Presentation Error](../verdict/presentation_error.md).

Таким образом, при включенном режиме `EJ_REQUIRE_NL` вывод

```c
    printf("%d", a + b);
```

приведет к ошибке [Presentation Error](../verdict/presentation_error.md), а
вывод

```c
    printf("%d\n", a + b)
```

будет признан корректным.
