Навигация: [Главная страница](../main_Page.md)/[Система
ejudge](../система_ejudge.md)/[Разработка](../разработка.md)/[История
версий](../история_версий.md)/[Изменения в версии
3.6.0](изменения_в_версии_3.6.0.md)

Время выхода: 29 января 2017 г.

[Предыдущая версия](изменения_в_версии_3.5.2.md) [Следующая
версия](изменения_в_версии_3.6.1.md)

Улучшения в коде: удалено много старого и неиспользуемого кода.

Добавлен [бот для telegram](../бот_для_telegram.md).

### [contest.xml](../contest.xml.md)

Добавлен атрибут
[`force_password_change`](contest.xml:force_password_change.md)
элемента [`contest`](../contest.xml/contest.md). Если данный
атрибут установлен в `yes`, то пользователь при первом входе в интерфейс
проведения турнира обязан сменить пароль, заданный администратором.

Добавлен атрибут
[`enable_user_telegram`](contest.xml:enable_user_telegram.md)
элемента [`contest`](../contest.xml/contest.md).

Добавлены элементы `telegram_bot_id`, `telegram_admin_chat_id`,
`telegram_user_chat_id`.

Добавлен элемент `comment`.

### [ej-compile](../tool/ej-compile.md)

Программа проверки стиля (style_checker) запускается после компиляции в
случае успешной компиляции, а не наоборот.

### [ej-contests](../tool/ej-contests.md)

Сообщения об ошибках, которые раньше генерировались в коде на Си,
вынесены в страницы шаблонов .csp.

Исправлена ошибка скачивания исходного текста или архива
непривилегированным пользователем.

Исправлено много падений из-за разыменования нулевого указателя.

Поддерживается отправка сообщения в telegram при поступлении вопроса от
участника. Поддерживается отправка сообщения в telegram при изменении
статуса посылки. Поддерживается отправка сообщения в telegram при ответе
на пользовательский вопрос. Поддерживается отправка сообщения в telegram
при Check Failed. Поддерживаются периодические напоминания в telegram о
непроверенных посылках.

Исправлено отображение страницы "Summary" интерфейса участника турнира в
режиме турнира KIROV и Virtual Olympiad.

Интерфейс участника турнира поддерживает генерацию токена для telegram
для подписки участника на события турнира. ([screenshot
1](media:Telegram_1.png.md), [screenshot
2](media:Telegram_2.png.md))

Добавлен новый статус [Summoned for defence](../verdict/SM.md) для посылок.

Изменена обработка конфигурационной переменной
[`problem_dir`](../serve.cfg/problem/problem_dir.md) секции
описания задачи.

Большие логи ошибок компиляции не приводят к падению.

Улучшен интерфейс просмотра вопросов от участников. Добавлена ссылка на
просмотр посылок, отфильтрованных по задаче и пользователю.
([screenshot](media:Clar_improvement.png.md))

На странице просмотра исходного кода проверяющему отображаются
предыдующие сообщения по данной задаче данного пользователя.
([screenshot](media:Previous_runs.png.md))

Улучшения на странице скачивания архива посылок. Добавлена группировка
по problem_dir, добавлено удаление префикса из параметра problem_dir.
([screenshot](media:Download_archive.png.md))

Добавлена поддержка [виртуальных турниров](../virtual_KIROV.md) по
системе [KIROV](../KIROV.md). В текущей версии поддержка
заключается в поддержке виртуального начала и виртуального конца турнира
для каждого пользователя.

Добавлена поддержка конфигурационной переменной
[`enable_submit_after_reject`](../serve.cfg/problem/enable_submit_after_reject.md)
секции описания задачи.

В выражении фильтра можно использовать предикат has_test_result(RESULT),
который отфильтровывает посылки, при тестировании которых хотя бы на
одном тесте был получен вердикт RESULT. Например, фильтр
has_test_result(TL) отфильтровывает посылки, хотя бы на одном тесте
которых было превышено максимальное время работы программы.

Добавлена поддержка конфигурационной переменной
[`require_any`](../serve.cfg/problem/require_any.md) секции
описания задачи.

### [ej-job-server](ej-job-server.md)

Добавлена поддержка для [бота telegram](../бот_для_telegram.md).
Бот хранит свое состояние в базе mongodb.

### [ej-polygon](../tool/ej-polygon.md)

Исправления для поддержания совместимости с текущей версией polygon.

### [ej-super-serve](ej-super-serve.md)

Добавлена поддержка конфигурируемых кнопок на главную страницу
административного интерфейса serve-control. Конфигурируемые кнопки
настраиваются в конфигурационном файле ejudge.xml и позволяют запускать
при нажатии произвольную программу.

### [ej-users](../tool/ej-users.md)

Для хранения паролей в пользовательской базе данных используется SHA256.
К строке пароля добавляется затравка (salt).

### [gvaluer](../gvaluer.md)

Добавлена директива `0_if`.

### [.inf-файлы](.inf-файлы.md)

Добавлен параметр `init_env`.

Добавлен параметр `interactor_env`.

Добавлен параметр `checker_env`.

Добавлен параметр `disable_valgrind`.

### [Стандартные проверяющие программы](../стандартные_проверяющие_программы.md)

Улучшена проверка переполнения 32-битных целых в проверяющих программах
[cmp_int](../checker/cmp_int.md), [cmp_int_seq](../checker/cmp_int_seq.md),
[cmp_unsigned_int](../checker/cmp_unsigned_int.md),
[cmp_unsigned_int_seq](../checker/cmp_unsigned_int_seq.md).

Стандартные проверяющие программы [cmp_int](../checker/cmp_int.md),
[cmp_int_seq](../checker/cmp_int_seq.md),
[cmp_unsigned_int](../checker/cmp_unsigned_int.md),
[cmp_unsigned_int_seq](../checker/cmp_unsigned_int_seq.md),
[cmp_long_long](../checker/cmp_long_long.md),
[cmp_long_long_seq](../checker/cmp_long_long_seq.md),
[cmp_unsigned_long_long](../checker/cmp_unsigned_long_long.md),
[cmp_unsigned_long_long_seq](../checker/cmp_unsigned_long_long_seq.md)
поддерживают переменную окружения EJ_BASE, с помощью которой можно
задать систему счисления для преобразования чисел из входных файлов.
Поддерживаются основания системы счисления от 2 до 36.
