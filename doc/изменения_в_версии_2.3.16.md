Навигация: [Главная страница](main_Page.md)/[Система
ejudge](система_ejudge.md)/[Разработка](разработка.md)/[История
версий](история_версий.md)/[Изменения в версии
2.3.16](изменения_в_версии_2.3.16.md)

Добавлена концепция [групп
пользователей](группа_пользователей.md). Каждая группа имеет
уникальный числовой идентификатор (group_id) и уникальное имя
(group_name). Пользователи могут объединяться в группы по произвольному
принципу. Каждая группа может включать более одного пользователя и
каждый пользователь может состоять членом более одной группы. Группы
пользователей могут использоваться при фильтрации посылок для
ограничения времени сдачи отдельных задач.

### ej-compile

Поддерживается режим "только проверка стиля", при котором поступивший
файл не компилируется, а запускается программа проверки стиля. Результат
работы программы проверки стиля считается результатом компиляции.

### ej-contests

У каждой посылки может быть установлен флаг "отмечена" (marked). Флаг
может быть установлен как вручную, как и проверяющей программой.

В выражении фильтра поддерживается предикат `marked`, который выбирает
только "отмеченные" посылки. Поддерживается предикат "latest_marked",
который выбирает последнюю отмеченную посылку для пары
(пользователь,задача).

В выражении фильтра поддерживается предикат `inusergroup(GROUP_NAME)`,
который выбирает пользователей, принадлежащих указанной группе
пользователей.

Поддерживается новый тип задач
"<b>[tests](задача/tests.md)</b>". Для этого типа задач
требуется написание тестов по заданному условию задачи. Тесты
проверяются на наборе программ, среди которых есть как правильные, так и
неправильные. Правильные программы должны пройти все тесты, а
неправильные - не пройти хотя бы один тест каждая.

Поддерживается [альтернативная раскладка
файлов](альтернативная_раскладка_файлов.md). В альтернативной
раскладке файлы группируются по задачам вместо группировки файлов по
назначению.

Поддерживается выполнение произвольной программы в момент завершения
турнира. Имя программы задается с помощью глобальной конфигурационной
переменной
[`contest_stop_cmd`](serve.cfg/global/contest_stop_cmd.md).

Добавлены глобальные конфигурационные переменные
[`advanced_layout`](serve.cfg/global/advanced_layout.md),
[`disable_auto_refresh`](serve.cfg/global/disable_auto_refresh.md),
[`problems_dir`](serve.cfg/global/problems_dir.md),
[`contest_stop_cmd`](serve.cfg/global/contest_stop_cmd.md).

Добавлены конфигурационные переменные
[`binary`](serve.cfg/problem/binary.md),
[`valuer_sets_marked`](serve.cfg/problem/valuer_sets_marked.md),
[`ignore_unmarked`](serve.cfg/problem/ignore_unmarked.md),
[`style_checker_env`](serve.cfg/problem/style_checker_env.md),
[`test_checker_env`](serve.cfg/problem/test_checker_env.md),
[`style_checker_cmd`](serve.cfg/problem/style_checker_cmd.md),
[`test_checker_cmd`](serve.cfg/problem/test_checker_cmd.md),
[`open_tests`](serve.cfg/problem/open_tests.md) раздела описания
задач.

Добавлена конфигурационная переменная
[`style_checker_env`](serve.cfg/language/style_checker_env.md)
раздела описания языкового процессора.

Добавлена глобальная конфигурационная переменная
[`load_user_group`](serve.cfg/global/load_user_group.md).
Добавлены конфигурационные переменные раздела описания задач
[`group_start_date`](serve.cfg/problem/group_start_date.md),
[`group_deadline`](serve.cfg/problem/group_deadline.md).

При просмотре таблицы текущих результатов привилегированный пользователь
может задать выражение фильтра посылок для задач, пользователей и
посылок. Таким образом можно ограничивать таблицу текущих результатов
определенными пользователями или определенным временем.

Турниры корректно загружаются и работают, даже если в конфигурационном
файле турнира не определен ни один языковой процессор.

Исправлена ошибка добавления записи в середину журнала посылок при
хранении журнала посылок в БД MySQL.

Конфигурационная переменная
[`enable_text_form`](serve.cfg/problem/enable_text_form.md)
раздела описания задачи работает и для обычных (STANDARD) задач на сдачу
программ. Если значение переменной установлено в 1, на странице сдачи
отображается как окно для непосредственного ввода текста программы, так
и диалог для выбора файла для сдачи. Пользователь может сдать программу
на проверку либо скопировав ее текст в окно, либо приложив файл. Сдать и
текст программы, и приложенный файл одновременно нельзя.

### ej-nwrun

При [тестировании под win32](win32-тестирование.md) корректно
работает одновременный ввод/вывод в файлы и стандартные потоки. Для
этого в конфигурационный файл турнира добавлены конфигурационные
переменные секции описания задачи
[`combined_stdin`](serve.cfg/problem/combined_stdin.md) и
[`combined_stdout`](serve.cfg/problem/combined_stdout.md).

### ej-super-server

При выполнении операции "Check contests settings" в режиме
альтернативной раскладки файлов в каждом каталоге задачи запускается
утилита make, если в этом каталоге присутствует Makefile.

При выполнении операции "Check contests settings" выполняется проверка
тестов с помощью проверяющей программы для тестов, если она указана в
секции описания задачи.

### ejudge-edit-users

Поддерживается редактирование групп пользователей.

### [libchecker](libchecker.md)

Добавлен новый заголовочный файл
[`checkutils.h`](libchecker/Заголовочные_файлы.md),
предназначенный для использования в случае, когда программа не является
проверяющей программой, но использует функции библиотеки
[libchecker](libchecker.md).

Добавлены новые функции
[`checker_in_open`](libchecker/checker_SRC_open.md),
[`checker_out_open`](libchecker/checker_SRC_open.md),
[`checker_corr_open`](libchecker/checker_SRC_open.md),
[`checker_eof`](libchecker/checker_eof.md),
[`checker_eoln`](libchecker/checker_eoln.md),
[`checker_skip_eoln_ex`](libchecker/checker_skip_eoln_ex.md),
[`checker_read_file_by_line_ex`](libchecker/checker_read_file_by_line_ex.md),
[`checker_read_line_ex`](libchecker/checker_read_line_ex.md),
[`checker_read_buf_ex`](libchecker/checker_read_buf_ex.md),
[`checker_read_int_ex`](libchecker/checker_read_TYPE_ex.md),
[`checker_read_unsigned_int_ex`](libchecker/checker_read_TYPE_ex.md),
[`checker_read_long_long_ex`](libchecker/checker_read_TYPE_ex.md),
[`checker_read_unsigned_long_long_ex`](libchecker/checker_read_TYPE_ex.md),
[`checker_read_double_ex`](libchecker/checker_read_FPTYPE_ex.md),
[`checker_read_long_double_ex`](libchecker/checker_read_FPTYPE_ex.md).

Все функции чтения данных, кроме
[`checker_read_file`](libchecker/checker_read_file.md)
контролируют допустимость управляющих символов во входных данных. В
[текстовом файле](текстовый_файл.md) могут появляться только
пробельные управляющие символы. Символы, для которых выполняется условие

`((c < ' ' && !isspace(c)) || c == 127)`

являются недопустимыми в текстовом файле и в случае обнаружения таких
символов выдается соответствующая ошибка.

[Функции чтения вещественных
чисел](libchecker/Чтение_вещественных_значений.md) проверяют,
что каждое число является отдельным элементом ввода (то есть
последовательностью непробельных символов, ограниченной пробельными
символами началом или концом файла). В предыдущих версиях строка "-1-1"
считывалась как два числа -1 и -1, в этой версии будет выдана ошибка.

### [style_archive](style_archive.md)

Новая программа для проверки корректности архивов, сдаваемых на проверку
для задач типа "<b>[tests](задача/tests.md)</b>".
