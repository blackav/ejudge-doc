Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Использование](Использование "wikilink")/[Проверяющие
программы](Проверяющие_программы "wikilink")

Проверяющие программы предназначены для проверки правильности ответа,
выданного тестируемой программой. Проверяющие программы запускаются
только если тестируемая программа уложилась в [ограничения времени
работы на тесте](ошибка_превышения_лимита_времени "wikilink"), уложилась
в [ограничения максимального размера
памяти](ошибка_превышения_лимита_памяти "wikilink") и завершилась
корректно (см. [ошибка при работе
программы](ошибка_при_работе_программы "wikilink")).

Проверяющая программа должна диагностировать [ошибку неправильного
формата результата](ошибка_неправильного_формата_результата "wikilink")
или [неправильный ответ](неправильный_ответ "wikilink"). В случае, если
результат работы тестируемой программы выдан в правильном формате и
верен, проверяющая программа уведомляет об этом тестирующую систему.

Формы взаимодействия проверяющей программы и тестирующей системы зависят
от тестирующей системы. В системе ejudge проверяющая программа получает
необходимые параметры в [командной
строке](параметры_командной_строки_проверяющей_программы "wikilink") и
возвращает вердикт с помощью [кода
завершения](коды_завершения_проверяющей_программы "wikilink"). Вывод на
стандартный поток вывода и стандартный поток ошибок проверяющей
программы сохраняется в протоколе тестирования и доступен для
последующего просмотра.

Система ejudge предоставляет богатый набор [стандартных проверяющих
программ](стандартные_проверяющие_программы "wikilink"). В случае, когда
требования на результат работы тестируемой программы не покрываются
стандартными проверяющими программами необходимо написание специальной
проверяющей программы для задачи.

Проверяющие программы могут быть написаны на любом языке
программирования, программы на котором могут запускаться из командной
строки. Это не обязательно C, C++, Pascal или Delphi, но и, например,
Perl и т. п. Для облегчения разработки проверяющих программ и повышения
их переносимости между разными тестирующими системами разработано
несколько библиотек.

Самая распространённая среди таких библиотек -
[testlib](testlib "wikilink"). Эта библиотека разработана для языков
программирования Pascal и Delphi. К сожалению, в настоящее время
распространены несколько не совсем совместимых друг с другом версий
библиотеки.

Для языка C++ существует адаптация библиотеки
[testlib](http://code.google.com/p/testlib/), написанная М. Мирзаяновым.

В составе системы ejudge поставляется библиотека
[libchecker](libchecker "wikilink"), предназначенная для написания
проверяющих программ на языках C и C++. Эта библиотека поддерживает все
расширенные возможности, предоставляемые системой ejudge при проверке
программ.

При настройке турниров в системе ejudge с помощью CGI-интерфейса
[serve-control](serve-control "wikilink") необходимая библиотека
выбирается автоматически в зависимости от суффикса файла с исходным
кодом проверяющей программы (см. [автоматический выобор библиотеки для
проверяющей
программы](автоматический_выобор_библиотеки_для_проверяющей_программы "wikilink")).

### Переменные окружения

Переменные окружения для проверяющей программы можно устанавливать с
помощью конфигурационной переменной
[`checker_env`](Serve.cfg:problem:checker_env "wikilink") секции
описания задачи.

Дополнительно устанавливаются следующие переменные окружения:

<table border="1">
<tr>
<td>

`EJUDGE`

</td>
<td>

1

</td>
<td>

Всегда устанавливается в 1 (начиная с версии
[2.3.26](Изменения_в_версии_2.3.26 "wikilink"))

</td>
</tr>
<tr>
<td>

`EJUDGE_SCORING_CHECKER`

</td>
<td>

1

</td>
<td>

Только если
[`scoring_checker`](Serve.cfg:problem:scoring_checker "wikilink")
установлен в 1 (начиная с версии
[2.3.26](Изменения_в_версии_2.3.26 "wikilink"))

</td>
</tr>
<tr>
<td>

`EJUDGE_LOCALE`

</td>
<td>

 

</td>
<td>

Значение [`checker_locale`](Serve.cfg:problem:checker_locale "wikilink")
(начиная с версии [2.3.28](Изменения_в_версии_2.3.28 "wikilink"))

</td>
</tr>
</table>

### Оценивающая проверяющая программа

Оценивающая проверяющая программа помимо вердикта правильности ответа
выводит на стандартный поток вывода балл, выставленный за данный тест.
Описание функционирования оценивающей проверяющей программы дано в
описании переменной
[`scoring_checker`](Serve.cfg:problem:scoring_checker "wikilink").
