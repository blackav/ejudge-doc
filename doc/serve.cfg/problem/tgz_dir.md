Навигация: [Главная страница](Main_Page.md)/[Система
ejudge](Система_ejudge.md)/[Использование](Использование.md)/[Конфигурационные
файлы](Конфигурационные_файлы.md)/[serve.cfg](serve.cfg.md)/[Конфигурационные
параметры
задач](serve.cfg:problem.md)/[tgz_dir](serve.cfg:problem:tgz_dir.md)

|                          |                                           |
|--------------------------|-------------------------------------------|
| **Имя переменной**:      | **`tgz_dir`**                             |
| **Содержится в:**        | [`problem`](serve.cfg:problem.md) |
| **Используется:**        | `run`                                     |
| **Тип содержимого:**     | *путь к каталогу* или *шаблон*            |
| **Может отсутствовать:** | *да*                                      |
| **Наследуется:**         | *да*                                      |
| **Может повторяться:**   | *нет*                                     |

**Описание.** Данная конфигурационная переменная устанавливает путь к
каталогу, в котором находится архив рабочего каталога для тестирования
решения участника. Архивы рабочих каталогов далее кратко называются
`.tgz`-файлы. Полный путь к каталогу с `.tgz`- файлами для каждой
неабстрактной задачи определяется по следующим правилам:

1.  Если конфигурационная переменная `tgz_dir` задачи не определена, и
    эта задача наследует свойства некоторой абстрактной задачи *A*, у
    которой эта конфигурационная переменная определена, то выполняется
    форматная подстановка с форматом, определяемым значением переменной
    `tgz_dir` абстрактной задачи *A*, и результат помещается в
    переменную `tgz_dir` данной неабстрактной задачи.
2.  Если после предыдущего шага конфигурационная переменная `tgz_dir`
    всё ещё не определена, её значение устанавливается в короткое имя
    данной задачи (см. переменную
    [`short_name`](serve.cfg:problem:short_name.md)).
3.  Если после предыдущего шага значение конфигурационной переменной не
    начинается с символа ’/’, то есть не является абсолютным путём к
    каталогу, значение данной конфигурационной переменной добавляется к
    значению глобальной конфигурационной переменной
    [`tgz_dir`](serve.cfg:global:tgz_dir.md), и результат
    помещается в конфигурационную переменную `tgz_dir` задачи. Таким
    образом, глобальная конфигурационная переменная
    [`tgz_dir`](serve.cfg:global:tgz_dir.md) содержит первые
    компоненты пути к каталогу `.tgz`-файлов, а конфигурационная
    переменная `tgz_dir` описания задачи — последние компоненты пути к
    каталогу `.tgz`-файлов.

**Пример.**

Следующий пример отключает распределение `.tgz`-файлов по подкаталогам
каталога, определяемого глобальной переменной
[`tgz_dir`](serve.cfg:global:tgz_dir.md).

`tgz_dir = "."`

Следующий пример для описания абстрактной задачи задаёт использование
подкаталога, имя которого получается преобразованием к строчным буквам
короткого имени задачи
([`short_name`](serve.cfg:problem:short_name.md)), в каталоге,
определяемом глобальной переменной
[`tgz_dir`](serve.cfg:global:tgz_dir.md), для `.tgz`- файлов для
каждой задачи, наследующей свойства данной абстрактной задачи.

`tgz_dir = "%lPs"`
