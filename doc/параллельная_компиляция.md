Навигация: [Главная страница](main_Page.md)/[Система
ejudge](система_ejudge.md)/[Использование](использование.md)/[Параллельная
компиляция](параллельная_компиляция.md)

Компиляция решений выполняется программой
[ej-compile](ej-compile.md). По умолчанию эта программа работает
в одиночном режиме, то есть на одном хосте можно запустить только один
экземпляр программы. Для работы в параллельном режиме необходимо указать
опцию `-p` в командной строке программы. В этом случае не будет
выполняться проверка на то, что ej-compile уже запущена. Только в этом
случае параллельно работающие экземпляры программы не будут
конфликтовать между собой.

Можно настроить конфигурационные файлы таким образом, чтобы нужное число
экземпляров программы запускалось при старте всей системы ejudge с
помощью ejudge-control.

Для настройки автоматического запуска необходимого количества
экземпляров программы ej-compile при старте ejudge в конфигурационный
файл [ejudge.xml](ejudge.xml.md) необходимо добавить следующий
фрагмент.

<config>  
`  ...`  
`  `<hosts_options>  
`    `<host name="IP-ADDRESS">  
`      `<option name="compile_parallelism" value="2" />  
`    `</host>  
`  `</hosts_options>  
`  ...`  
</config>

Фрагмент, как показано, добавляется внутрь корневого элемента <config>.
Вместо `IP-ADDRESS` необходимо подставить IP-адрес сервера. В значение
атрибута `value` подставляется требуемое количество параллельно
запускаемых экземпляров ej-compile. Если используется и настройка
[`parallelism`](параллельное_тестирование.md), и настройка
`compile_parallelism`, обе они должны находиться в одном элементе:

<config>  
`  ...`  
`  `<hosts_options>  
`    `<host name="IP-ADDRESS">  
`      `<option name="compile_parallelism" value="2" />  
`      `<option name="parallelism" value="4" />  
`    `</host>  
`  `</hosts_options>  
`  ...`  
</config>

ВНИМАНИЕ. На многоядерной машине узким местом скорее всего окажется
дисковая подсистема. Если будет указан большой параллелизм компиляции и
выполнения может оказаться так, то дисковая подсистема не справится с
потоком запросов. В этом случае в списке процессов будет много
процессов, находящихся в состоянии 'D' (uninterruptible sleep).

Параллельная компиляция поддерживается с версии
[3.6.1](изменения_в_версии_3.6.1.md).
