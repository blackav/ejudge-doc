Навигация: [Главная страница](Main_Page.md)/[Система
ejudge](Система_ejudge.md)/[Проверяющие
программы](Проверяющие_программы.md)/[libchecker](libchecker.md)/[Функции](Libchecker:Функции.md)/[Чтение
вещественных
значений](Libchecker:Чтение_вещественных_значений.md)/[Чтение
вещественного значения из файла, задаваемого
индексом](Libchecker:checker_read_FPTYPE.md)

Данные функции позволяют считывать вещественное значение из файла,
задаваемого [индексом](libchecker:file_index.md).

`int checker_read_double(int ind, const char *name, int eof_error_flag, double *p_val);`  
`int checker_read_long_double(int ind, const char *name, int eof_error_flag, long double *p_val);`

Параметр `ind` — это [индекс файла](libchecker:file_index.md),
из которого должно быть считано число. Параметр `name` — это строка или
текст, описывающий считываемое значение. Он используется в случае ошибки
при выводе диагностических сообщений. Параметр `eof_error_flag` задает
поведение функции в случае, если достигнут конец файла. Если параметр
имеет ненулевое значение, то в случае невозможности чтения числа из-за
достижения конца файла диагностируется [ошибка неправильного формата
файла](ошибка_неправильного_формата_файла.md). Если параметр
`eof_error_flag` равен 0, то в случае достижения конца файла
возвращается значение -1. Параметр `p_val` — это адрес переменной, в
которую должно быть помещено считанное значение.

Число должно соответствовать правилам представления вещественных чисел.
Поддерживаются числа в десятичной и шестнадцатиричной записи. Перед
числом пропускаются [пробельные символы](пробельный_символ.md).
Если нарушен формат записи числа или число выходит за диапазон
представимых значений заданного типа, диагностируется [ошибка
неправильного формата
файла](ошибка_неправильного_формата_файла.md).

Функция возвращает значение 1 при успешном чтении и -1 при достижении
конца файла, если параметр `eof_error_flag` равен 0. В случае
возникновения ошибки чтения данных, управление в вызывающую функцию не
возвращается.
