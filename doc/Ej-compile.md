Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Использование](Использование "wikilink")/[Общая
архитектура
системы](Общая_архитектура_системы "wikilink")/[ej-compile](ej-compile "wikilink")

Программа `ej-compile` выполняет запросы на компиляцию решений,
поступающих на проверку во все турниры. Программа взаимодействует с
серверами турниров с помощью разделяемых каталогов.

|                         |                                                                                                                                                                                                                                                                                                      |
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `--agent AGENT`         | Указать спецификацию, каким способом будет выполняться обмен файлами с сервером ejudge. Опция может указываться при запуске ejudge в подчиненном (slave) режиме. В настоящее время поддерживается только обмен файлами по ssh. См. [Параллельное тестирование](Параллельное_тестирование "wikilink") |
| `-C DIR`                | Задать рабочий каталог `DIR`.                                                                                                                                                                                                                                                                        |
| `-c DIR`                | Задать альтернативное размещения каталога `EJUDGE_COMPILE_DIR` (по умолчанию значение `/home/judges/compile`).                                                                                                                                                                                       |
| `-d`                    | Переключиться в фоновый режим после старта (daemon mode).                                                                                                                                                                                                                                            |
| `-D`                    | Переключиться в фоновый режим после старта (daemon mode).                                                                                                                                                                                                                                            |
| `-DNAME[=VALUE]`        | Задать значение `VALUE` для переменной `NAME`. По умолчанию значение равно `1`. Эти значения можно использовать в директивах условной обработки конфигурационного файла.                                                                                                                             |
| `-e FD`                 | Перенаправить стандартный поток ошибок (вывод в логи) в указанный файловый дескриптор.                                                                                                                                                                                                               |
| `-g GROUP`              | Компонент должен работать с правами группы `GROUP`. Работает, чтолько если `ej-compile` запускается пользователем root.                                                                                                                                                                              |
| `-hb`                   | Включить режим отслеживания состояния (heartbeat). По умолчанию включен.                                                                                                                                                                                                                             |
| `-hc CMD`               | Указать команду, которая будет использоваться для завершения работы (down) хоста компиляции.                                                                                                                                                                                                         |
| `--help`                | Вывести краткое описание использования и завершить работу.                                                                                                                                                                                                                                           |
| `-hi ID`                | Указать идентификатор данного компонента компиляции для подсистемы мониторинга (heartbeat).                                                                                                                                                                                                          |
| `-i`                    | Режим инициализации: создать все необходимые каталоги и файлы, но не переходить в режим обслуживания запросов.                                                                                                                                                                                       |
| `-I ID`                 | Задать индентификатор очереди компиляции, которая будет обрабатываться данным компонентом.                                                                                                                                                                                                           |
| `--instance-id INST-ID` | Указать идентификатор тестирующего компьютера. Этот идентификатор отображается в информации об очереди компиляции и доступных серверах компиляции.                                                                                                                                                   |
| `--ip`                  | Задать IP-адрес. Этот адрес без изменений передаётся в [ej-agent](ej-agent "wikilink") и отображается в командной строке.                                                                                                                                                                            |
| `-k KEY`                | Обслуживать только запросы, в которых передается параметр языка программирования [key](Serve.cfg:language:key "wikilink"). Позволяет выполнять фильтрацию обрабатываемых запросов по какому-либо типу языков программирования.                                                                       |
| `-l FD`                 | Задать номер заранее открытого файлового дескриптора, который получен при открытии файла <code>ejudge.xml\</code. Эта опция необходима, когда компонент ej-compile работает не под пользователем ejudge, и, соответственно, не имеет доступа к этому файлу.                                          |
| `-nhb`                  | Выключить режим отслеживания состояния (heartbeat).                                                                                                                                                                                                                                                  |
| `-nst`                  | Не перехватывать сигналы фатальных ошибок (SIGSEGV и аналогичные) для печати трассы стека в лог файл.                                                                                                                                                                                                |
| `-p`                    | Запустить компонент в параллельном режиме, когда несколько компонентов работают на одном и том же хосте.                                                                                                                                                                                             |
| `-S`                    | Перенаправить вывод на стандартный поток вывода и стандартный поток ошибок в лог-файл. Альтернатива фоновому режиму. (deprecated)                                                                                                                                                                    |
| `-R`                    | Режим перезапуска. Используется самим компонентом `ej-compile` при получении сигнала `SIGHUP` на перезапуск компонента.                                                                                                                                                                              |
| `-r DIR`                | Задать альтернативное размещение каталога контестов `CONTESTS_HOME_DIR` (по умолчанию значение `/home/judges`).                                                                                                                                                                                      |
| `-rc`                   | Указать команду, которая будет использоваться для перезагрузки (reboot) хоста компиляции.                                                                                                                                                                                                            |
| `-u USER`               | Компонент должен работать с правами пользователя `USER`. Работает, чтолько если `ej-compile` запускается пользователем root.                                                                                                                                                                         |
| `-v`                    | Подробный (verbose) режим.                                                                                                                                                                                                                                                                           |
| `-x PATH`               | Задать путь к файлу `ejudge.xml` (по умолчанию `/home/judges/data/ejudge.xml`).                                                                                                                                                                                                                      |

Поддерживаемые опции командной строки
