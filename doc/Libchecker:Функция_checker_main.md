Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Проверяющие
программы](Проверяющие_программы "wikilink")/[libchecker](libchecker "wikilink")/[Функция
checker_main](Libchecker:Функция_checker_main "wikilink")

Функция checker_main в проверяющей программе играет роль функции main в
обычной программе на C. После инициализации проверяющей программы
управление передаётся на эту функцию.

Функция checker_main должна удовлетворять следующему прототипу:

`int checker_main(int argc, char **argv);`

Параметры argc и argv содержат количество аргументов командной строки и
сами аргументы (точно так же, как и для функции main). Возвращаемое
значение функции checker_main — это [код завершения проверяющей
программы](коды_завершения_проверяющей_программы "wikilink").

Разбор [аргументов командной
строки](параметры_командной_строки_проверяющей_программы "wikilink")
проверяющей программы выполняется при инициализации проверяющей
программы ещё до запуска checker_main, поэтому проверяющая программа
может сразу же пользоваться глобальными переменными и функциями
библиотеки libchecker.

Для завершения работы проверяющей программы рекомендуется использовать
функции библиотеки libchecker
[checker_OK](libchecker:checker_OK "wikilink"),
[fatal](libchecker:fatal "wikilink"),
[fatal_CF](libchecker:fatal_CF "wikilink"),
[fatal_PE](libchecker:fatal_PE "wikilink"),
[fatal_WA](libchecker:fatal_WA "wikilink"),
[fatal_read](libchecker:fatal_read "wikilink"). Все эти функции вызывают
стандартную функцию exit с соответствующим кодом завершения, то есть
после их вызова управление никогда не возвращается в проверяющую
программу.

Функция checker_main в типичной случае может выглядеть следующим
образом:

`int checker_main(int argc, char **argv)`  
`{`  
`  // код проверяющей программы, который вызывает функции семейства fatal* в случае обнаружения ошибки`  
`  checker_OK();`  
`}`
