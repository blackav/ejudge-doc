Навигация: [Главная страница](Main_Page.md)/[Система
ejudge](Система_ejudge.md)/[Проверяющие
программы](Проверяющие_программы.md)/[libchecker](libchecker.md)/[Функция
checker_main](Libchecker:Функция_checker_main.md)

Функция checker_main в проверяющей программе играет роль функции main в
обычной программе на C. После инициализации проверяющей программы
управление передаётся на эту функцию.

Функция checker_main должна удовлетворять следующему прототипу:

`int checker_main(int argc, char **argv);`

Параметры argc и argv содержат количество аргументов командной строки и
сами аргументы (точно так же, как и для функции main). Возвращаемое
значение функции checker_main — это [код завершения проверяющей
программы](коды_завершения_проверяющей_программы.md).

Разбор [аргументов командной
строки](параметры_командной_строки_проверяющей_программы.md)
проверяющей программы выполняется при инициализации проверяющей
программы ещё до запуска checker_main, поэтому проверяющая программа
может сразу же пользоваться глобальными переменными и функциями
библиотеки libchecker.

Для завершения работы проверяющей программы рекомендуется использовать
функции библиотеки libchecker
[checker_OK](libchecker:checker_OK.md),
[fatal](libchecker:fatal.md),
[fatal_CF](libchecker:fatal_CF.md),
[fatal_PE](libchecker:fatal_PE.md),
[fatal_WA](libchecker:fatal_WA.md),
[fatal_read](libchecker:fatal_read.md). Все эти функции вызывают
стандартную функцию exit с соответствующим кодом завершения, то есть
после их вызова управление никогда не возвращается в проверяющую
программу.

Функция checker_main в типичной случае может выглядеть следующим
образом:

`int checker_main(int argc, char **argv)`  
`{`  
`  // код проверяющей программы, который вызывает функции семейства fatal* в случае обнаружения ошибки`  
`  checker_OK();`  
`}`
