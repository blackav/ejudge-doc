Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Проверяющие
программы](Проверяющие_программы "wikilink")/[libchecker](libchecker "wikilink")/[Функции](Libchecker:Функции "wikilink")/[Перекодирование
текстовых
данных](Libchecker:Перекодирование_текстовых_данных "wikilink")/[checker_utf8_to_ucs4_str](Libchecker:checker_utf8_to_ucs4_str "wikilink")

Функция позволяет перекодировать строку из кодировки UTF-8 в кодировку
UCS-4.

`int checker_utf8_to_ucs4_str(int *out, const char *str);`

Параметр `str` — строка, завершающаяся нулевым байтом. Параметр `out` —
адрес начала буфера результата. Параметры `in` и `out` не могут быть
равны `NULL`. Буфер, заданный параметром `out` должен иметь размер,
достаточный для размещения перекодированной строки. Для этого
достаточно, чтобы буфер `out` имел размер `strlen(str) + 1` элементов. В
конец перекодированной строки дописывается символ с кодом 0 в кодировке
UCS-4.

Функция возвращает количество символов в кодировке UCS-4, полученных в
результате перекодирования, без учета завершающего нулевого символа.
Если во входном буфере находится недопустимая UTF-8 последовательность,
функция возвращает значение -1, и перекодирование не производится.

См. также:
[`checker_utf8_to_ucs4_buf`](libchecker:checker_utf8_to_ucs4_buf "wikilink").
