`#! /bin/sh`  
`#`  
`# Подстановка для пути к каталогу, в котором хранятся конфигурационные файлы ЯП`  
`LANG_CONFIG_DIR="@lang_config_dir@"`  
`#`  
`# С помощью переменной окружения EJUDGE_LANG_CONFIG можно явно задать путь`  
`# к конфигурационному файлу ЯП, если же эта переменная не установлена,`  
`# используем путь по умолчанию`  
`[ "${EJUDGE_LANG_CONFIG}" = "" ] && EJUDGE_LANG_CONFIG="${LANG_CONFIG_DIR}/foo.cfg"`  
`#`  
`# Если конфигурационный файл существует, подгружаем его`  
`# а в противном случае используем значения по умолчанию`  
`if [ -f "${EJUDGE_LANG_CONFIG}" ]`  
`then`  
`  . "${EJUDGE_LANG_CONFIG}"`  
`else`  
`  version="unknown"`  
`  FOOPATH="/usr/bin/foo"`  
`fi`  
`#`  
`# Проверяем, что ЯП проинсталлирован`  
`if [ x"${version}" = x ]`  
`then`  
`  echo "This language is not supported." >&2`  
`  exit 1`  
`fi`  
`#`  
`# Здесь $1 - имя входного файла, $2 - имя выходного файла`  
`# Вписываем в начало выходного файла конструкцию #!`  
`echo "#! ${FOOPATH} ${EJUDGE_FLAGS}" > $2`  
`# Оставляем пустую строку`  
`echo >> $2`  
`# Копируем сам файл`  
`cat $1 >> $2`  
`# Делаем файл исполняемым`  
`chmod +x $2`  
`exit 0`
