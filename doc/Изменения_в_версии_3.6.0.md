Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Разработка](Разработка "wikilink")/[История
версий](История_версий "wikilink")/[Изменения в версии
3.6.0](Изменения_в_версии_3.6.0 "wikilink")

Время выхода: 29 января 2017 г.

[Предыдущая версия](Изменения_в_версии_3.5.2 "wikilink") [Следующая
версия](Изменения_в_версии_3.6.1 "wikilink")

Улучшения в коде: удалено много старого и неиспользуемого кода.

Добавлен [бот для telegram](бот_для_telegram "wikilink").

### [contest.xml](contest.xml "wikilink")

Добавлен атрибут
[`force_password_change`](contest.xml:force_password_change "wikilink")
элемента [`contest`](contest.xml:contest "wikilink"). Если данный
атрибут установлен в `yes`, то пользователь при первом входе в интерфейс
проведения турнира обязан сменить пароль, заданный администратором.

Добавлен атрибут
[`enable_user_telegram`](contest.xml:enable_user_telegram "wikilink")
элемента [`contest`](contest.xml:contest "wikilink").

Добавлены элементы `telegram_bot_id`, `telegram_admin_chat_id`,
`telegram_user_chat_id`.

Добавлен элемент `comment`.

### [ej-compile](ej-compile "wikilink")

Программа проверки стиля (style_checker) запускается после компиляции в
случае успешной компиляции, а не наоборот.

### [ej-contests](ej-contests "wikilink")

Сообщения об ошибках, которые раньше генерировались в коде на Си,
вынесены в страницы шаблонов .csp.

Исправлена ошибка скачивания исходного текста или архива
непривилегированным пользователем.

Исправлено много падений из-за разыменования нулевого указателя.

Поддерживается отправка сообщения в telegram при поступлении вопроса от
участника. Поддерживается отправка сообщения в telegram при изменении
статуса посылки. Поддерживается отправка сообщения в telegram при ответе
на пользовательский вопрос. Поддерживается отправка сообщения в telegram
при Check Failed. Поддерживаются периодические напоминания в telegram о
непроверенных посылках.

Исправлено отображение страницы "Summary" интерфейса участника турнира в
режиме турнира KIROV и Virtual Olympiad.

Интерфейс участника турнира поддерживает генерацию токена для telegram
для подписки участника на события турнира. ([screenshot
1](media:Telegram_1.png "wikilink"), [screenshot
2](media:Telegram_2.png "wikilink"))

Добавлен новый статус [Summoned for defence](SM "wikilink") для посылок.

Изменена обработка конфигурационной переменной
[`problem_dir`](serve.cfg:problem:problem_dir "wikilink") секции
описания задачи.

Большие логи ошибок компиляции не приводят к падению.

Улучшен интерфейс просмотра вопросов от участников. Добавлена ссылка на
просмотр посылок, отфильтрованных по задаче и пользователю.
([screenshot](media:Clar_improvement.png "wikilink"))

На странице просмотра исходного кода проверяющему отображаются
предыдующие сообщения по данной задаче данного пользователя.
([screenshot](media:Previous_runs.png "wikilink"))

Улучшения на странице скачивания архива посылок. Добавлена группировка
по problem_dir, добавлено удаление префикса из параметра problem_dir.
([screenshot](media:Download_archive.png "wikilink"))

Добавлена поддержка [виртуальных турниров](Virtual_KIROV "wikilink") по
системе [KIROV](KIROV "wikilink"). В текущей версии поддержка
заключается в поддержке виртуального начала и виртуального конца турнира
для каждого пользователя.

Добавлена поддержка конфигурационной переменной
[`enable_submit_after_reject`](serve.cfg:problem:enable_submit_after_reject "wikilink")
секции описания задачи.

В выражении фильтра можно использовать предикат has_test_result(RESULT),
который отфильтровывает посылки, при тестировании которых хотя бы на
одном тесте был получен вердикт RESULT. Например, фильтр
has_test_result(TL) отфильтровывает посылки, хотя бы на одном тесте
которых было превышено максимальное время работы программы.

Добавлена поддержка конфигурационной переменной
[`require_any`](serve.cfg:problem:require_any "wikilink") секции
описания задачи.

### [ej-job-server](ej-job-server "wikilink")

Добавлена поддержка для [бота telegram](бот_для_telegram "wikilink").
Бот хранит свое состояние в базе mongodb.

### [ej-polygon](ej-polygon "wikilink")

Исправления для поддержания совместимости с текущей версией polygon.

### [ej-super-serve](ej-super-serve "wikilink")

Добавлена поддержка конфигурируемых кнопок на главную страницу
административного интерфейса serve-control. Конфигурируемые кнопки
настраиваются в конфигурационном файле ejudge.xml и позволяют запускать
при нажатии произвольную программу.

### [ej-users](ej-users "wikilink")

Для хранения паролей в пользовательской базе данных используется SHA256.
К строке пароля добавляется затравка (salt).

### [gvaluer](gvaluer "wikilink")

Добавлена директива `0_if`.

### [.inf-файлы](.inf-файлы "wikilink")

Добавлен параметр `init_env`.

Добавлен параметр `interactor_env`.

Добавлен параметр `checker_env`.

Добавлен параметр `disable_valgrind`.

### [Стандартные проверяющие программы](Стандартные_проверяющие_программы "wikilink")

Улучшена проверка переполнения 32-битных целых в проверяющих программах
[cmp_int](cmp_int "wikilink"), [cmp_int_seq](cmp_int_seq "wikilink"),
[cmp_unsigned_int](cmp_unsigned_int "wikilink"),
[cmp_unsigned_int_seq](cmp_unsigned_int_seq "wikilink").

Стандартные проверяющие программы [cmp_int](cmp_int "wikilink"),
[cmp_int_seq](cmp_int_seq "wikilink"),
[cmp_unsigned_int](cmp_unsigned_int "wikilink"),
[cmp_unsigned_int_seq](cmp_unsigned_int_seq "wikilink"),
[cmp_long_long](cmp_long_long "wikilink"),
[cmp_long_long_seq](cmp_long_long_seq "wikilink"),
[cmp_unsigned_long_long](cmp_unsigned_long_long "wikilink"),
[cmp_unsigned_long_long_seq](cmp_unsigned_long_long_seq "wikilink")
поддерживают переменную окружения EJ_BASE, с помощью которой можно
задать систему счисления для преобразования чисел из входных файлов.
Поддерживаются основания системы счисления от 2 до 36.
