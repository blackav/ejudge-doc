Навигация: [Главная страница](Main_Page "wikilink")/[Система
ejudge](Система_ejudge "wikilink")/[Проверяющие
программы](Проверяющие_программы "wikilink")/[libchecker](libchecker "wikilink")/[Функции](Libchecker:Функции "wikilink")/[Перекодирование
текстовых
данных](Libchecker:Перекодирование_текстовых_данных "wikilink")/[checker_utf8_to_ucs4_buf](Libchecker:checker_utf8_to_ucs4_buf "wikilink")

Функция позволяет перекодировать буфер заданного размера из кодировки
UTF-8 в кодировку UCS-4.

`int checker_utf8_to_ucs4_buf(int *out, const char *in, size_t in_size);`

Параметр `in` — адрес начала буфера, а параметр `in_size` — его размер.
Параметр `out` — адрес начала буфера результата. Параметры `in` и `out`
не могут быть равны `NULL`. Буфер, заданный параметром `out` должен
иметь размер, достаточный для размещения перекодированной строки. Для
этого достаточно, чтобы буфер `out` имел размер `in_size` элементов.

Функция возвращает количество символов в кодировке UCS-4, полученных в
результате перекодирования. Если во входном буфере находится
недопустимая UTF-8 последовательность, функция возвращает значение -1.
