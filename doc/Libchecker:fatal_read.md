Навигация: [Система ejudge](Система_ejudge.md)/[Проверяющие
программы](Проверяющие_программы.md)/[libchecker](libchecker.md)/[Функции](Libchecker:Функции.md)/[Завершение
работы](Libchecker:Завершение_работы.md)/[fatal_read](Libchecker:fatal_read.md)

`void fatal_read(int ind, char const *format, ...);`

Данная функция выводит диагностическое сообщение на стандартный поток
ошибок затем завершает работу проверяющей программы с кодом завершения,
соответствующим [ошибке неправильного формата
результата](ошибка_неправильного_формата_результата.md) или
[внутренней ошибки проверки](внутренняя_ошибка_проверки.md) в
зависимости от значения аргумента ind. Данная функция никогда не
возвращает управление в проверяющую программу.

Аргумент ind определяет, к какому из трёх входных потоков проверяющей
программы относится ошибка. Допустимы следующие значения:

- 0 - файл с тестовыми данными
- 1 - файл с результатом работы тестируемой программы
- 2 - файл с эталонным ответом

Если параметр ind равен 0 или 2, то код завершения соответствует
[внутренней ошибки проверки](внутренняя_ошибка_проверки.md),
если параметр ind равен 1, то — [ошибке неправильного формата
результата](ошибка_неправильного_формата_результата.md).

Аргумент format задаёт спецификацию форматного преобразования функции
printf для диагностического сообщения. Символ перехода на новую строку
\n добавляется при выводе автоматически, поэтому он не требуется в конце
диагностического сообщения.

Функция fatal_read может использоваться в функциях чтения сложных
структур данных из входных файлов. В этом случае тип ошибки,
соответствующий файлу, из которого ведётся чтение, будет выбран
автоматически.

Пример:

`fatal_read(1, ") expected");`
