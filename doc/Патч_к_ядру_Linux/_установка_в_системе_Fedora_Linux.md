Ядро Linux многие создатели дистрибутивов собирают самостоятельно с
какими-либо патчами. Никто не может гарантировать, что любые патчи
совместимы. Ванильное ядро (vanilla kernel) с сайта kernel.org считается
эталонным. Как правило, патч для работы ejudge применяется к ванильному
ядру, которое нужно скачать с kernel.org. Посмотрите, для какой версии
ядра предлагается патч (иногда есть несколько на выбор).

Установите пакеты

`# yum install -y ncurses-devel gcc make rpm-build redhat-rpm-config kernel-devel`

В /usr/src/kernels будет Ваше текущее ядро

`# cd /usr/src/kernels/`

Скачайте архив c <ftp://ftp.kernel.org/pub/linux/kernel/>

`# wget `[`ftp://ftp.kernel.org/pub/linux/kernel/v3.x/linux-3.11.7.tar.bz2`](ftp://ftp.kernel.org/pub/linux/kernel/v3.x/linux-3.11.7.tar.bz2)

Распакуйте его

`# tar -xvzf linux-3.11.7.tar.bz2`

Скачайте патч

`# wget `[`http://www.ejudge.ru/download/linux-3.11.7-3.11.7-cher1.diff`](http://www.ejudge.ru/download/linux-3.11.7-3.11.7-cher1.diff)

Примените его

`# patch -p1 < linux-2.6.26.3-2.6.26.3-cher1.diff`

Можно и желательно так же скопировать конфигурационный файл от текущего
ядра, он находится в папке /boot/ и начинается с "config-"

`# cp /boot/config-ВЕРСИЯ-ЯДРА ./.config`

Заодно можно донастроить конфигурационный файл, вызвав:

`# make menuconfig`

Затем выбрать пункт "Load Alternate Config File" ввести ".config"

Если ядро из дистрибутива поддерживает не всё оборудование, которое есть
на Вашей машине, попробуйте включить в конфигурацию ядра его поддержку.

Не стоит забывать после окончания настройки сохранить .config через
пункт "Save Alternate Config File"

Теперь можно приступать к компиляции.

`# make rpm `

После этого инсталлируйте получившийся RPM-пакет

Проверьте настройки загрузчика и перезагрузитесь в ядро с патчем.
