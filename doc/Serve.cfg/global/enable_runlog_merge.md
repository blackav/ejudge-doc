Навигация: [Главная страница](Main_Page.md)/[Система
ejudge](Система_ejudge.md)/[Использование](Использование.md)/[Конфигурационные
файлы](Конфигурационные_файлы.md)/[serve.cfg](serve.cfg.md)/[Глобальные
конфигурационные
параметры](serve.cfg:global.md)/[`enable_runlog_merge`](Serve.cfg:global:enable_runlog_merge.md)

|                            |                                         |     |
|----------------------------|-----------------------------------------|-----|
| **Имя переменной**:        | **`enable_runlog_merge`**               |     |
| **Содержится в:**          | [`global`](serve.cfg:global.md) |     |
| **Используется:**          | `serve`                                 |     |
| **Тип содержимого:**       | *boolean*                               |     |
| **Может отсутствовать:**   | *да*                                    |     |
| **Значение по умолчанию:** | *false*                                 |     |
| **Может повторяться:**     | *нет*                                   |     |

**Редактирование элемента:** страница *"Editing contest"*, вкладка
*"Global settings (serve.cfg)"*, блок *"Advanced settings"*, поле
*"Enable run database importing and merging"*.

**Описание.** Если данная конфигурационная переменная установлена в
*true*, для администратора турнира становятся доступными средства
слияния журналов посылок. В этом случае появляется новый элемент
управления, генерируемый программой `master`. Используя его,
администратор задаёт имя файла, содержащего журнал посылок в формате
XML. Этот журнал посылок далее пересылается серверу турнира, который
сливает его с текущим журналом посылок. Импорт возможен, только если в
текущий момент в турнире нет непроверенных посылок. При импорте
корректно объединяются идентичные записи в текущем и импортируемом
журналах. При этом если некоторая запись имеет флаг «локальной», её
данные (результат тестирования, количество набранных баллов) имеют
приоритет над данными импортируемой записи. Если импортируемая запись
имеет флаг «авторитетной», то её данные имеют приоритет над локальными
данными. Если некоторая запись не является ни локальной, ни
авторитетной, локальные данные имеют приоритет.

В результате импорта идентификаторы посылок могут измениться. При этом
идентификатор с большим номером всегда имеет время отправки не меньшее,
чем идентификатор с меньшим номером. Если несколько посылок имеют
одинаковое время отправки, они упорядочиваются в порядке возрастания
идентификаторов пользователей. Проимпортированные записи помечаются
символом \* рядом с номером посылки.

При экспорте журнала посылок локальные записи помечаются как
авторитетные, что позволяет по ходу турнира обмениваться текущими
журналами посылок.
